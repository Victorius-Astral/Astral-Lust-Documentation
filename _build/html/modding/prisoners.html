

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Prisoners &mdash; Astral Lust  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/width_fix.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Traders &amp; Items" href="traders.html" />
    <link rel="prev" title="Triggers" href="triggers.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Astral Lust
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="get_started.html">Get Started - Astral Lust Modding</a></li>
<li class="toctree-l1"><a class="reference internal" href="creation_guide.html">Creation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="customize.html">Customize Astral Lust</a></li>
<li class="toctree-l1"><a class="reference internal" href="../console/basics.html">In-game Console</a></li>
<li class="toctree-l1"><a class="reference internal" href="cards.html">Cards</a></li>
<li class="toctree-l1"><a class="reference internal" href="dreams.html">Dreams</a></li>
<li class="toctree-l1"><a class="reference internal" href="../graphics/images.html">Images and wallpapers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../graphics/gui.html">GUI Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="enemies.html">Enemies</a></li>
<li class="toctree-l1"><a class="reference internal" href="lootlists.html">Lootlists</a></li>
<li class="toctree-l1"><a class="reference internal" href="triggers.html">Triggers</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Prisoners</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#add-new-prisoner">Add new prisoner</a></li>
<li class="toctree-l2"><a class="reference internal" href="#add-new-succubus">Add new succubus</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="traders.html">Traders &amp; Items</a></li>
<li class="toctree-l1"><a class="reference internal" href="../graphics/emotions.html">Character Emotions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../graphics/notifications.html">Notifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/codex.html">Codex</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/settings.html">Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/init_map.html">Init Map</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelogs/incoming.html">Incoming Changes and Features, Players’ Suggestions for Mod Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelogs/modding.html">Changelog - Modding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelogs/game.html">Changelog - Game</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelogs/full.html">Changelog - Full</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelogs/debug.html">Changelog - Debug Mode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelogs/dreams.html">Changelog - Dreams Mode</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Astral Lust</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Prisoners</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/modding/prisoners.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="prisoners">
<h1>Prisoners<a class="headerlink" href="#prisoners" title="Permalink to this headline">¶</a></h1>
<p>Prisoner system was implemented in 0.1.3 and it allows us to catch beings and keep them in the dungeon.
It automatically checks if said enemy can be catched.
It also allows us to visit the prisoner in the dungeon.</p>
<p>This system has safety features enabled, if you use the mod that adds prisoners, but delete it, your save will work.
Even more! It’ll save your prisoner, so that when you install the mod again, your prisoner will be waiting for you in the dungeon.
No need to catch him/her/it again.</p>
<div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
<div class="section" id="add-new-prisoner">
<h2>Add new prisoner<a class="headerlink" href="#add-new-prisoner" title="Permalink to this headline">¶</a></h2>
<p>You need to add your prisoner to <code class="docutils literal notranslate"><span class="pre">available_prisoners</span></code> at the init time.
It’s here so that mods which adds them can be safely removed.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Prisoner&#39;s image Enemy&#39;s class attribute (if catchable enemy),</span>
<span class="n">available_prisoners</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;MyPrisoner&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Now let’s make prisoner’s NPC object, it’s required, thank to that prisoner will have trust, lust, submission etc. statistics.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">init</span> <span class="mi">11</span> <span class="n">python</span><span class="p">:</span>
  <span class="c1"># Make NPC object, name is the only required argument</span>
  <span class="n">MyPris</span> <span class="o">=</span> <span class="n">NPC</span><span class="p">(</span><span class="s2">&quot;John&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Now we need to create catch label using <code class="docutils literal notranslate"><span class="pre">catch_MyPrisoner</span></code> as a syntax.
It should end with return, you can also jump somewhere if you know what you’re doing.
If you jump remember to make sure player ends in a freeroam mode, also remember to change the music.
You need to add prisoner to the <code class="docutils literal notranslate"><span class="pre">prisoners</span></code> dictionary as <code class="docutils literal notranslate"><span class="pre">{&quot;MyPrisoner&quot;:</span> <span class="pre">NPC_Object}</span></code>.</p>
<p>You don’t need this label if you don’t want your prisoner to be caught after winning a fight,
still if it’s an enemy you should make this label even if it only returns.</p>
<p><a class="reference external" href="https://www.renpy.org/doc/html/dialogue.html?highlight=dialogues#dialogue-and-narration">Dialogue and Narration</a></p>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span>label catch_MyPrisoner:
  ... talk ...
  ... event ...
  ... or whatever you want to happen here ...

  # $ allows to add one line python statement in renpy&#39;s labels or screens
  #
  $prisoners.update({&quot;MyPrisoner&quot;: MyPris})
  return
</pre></div>
</td></tr></table></div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Next required label is <code class="docutils literal notranslate"><span class="pre">talk_MyPrisoner</span></code>. It’s called when you decide to talk to the prisoner in the dungeon.
While you can make it into whatever you want, dialogue menu would be the best here. It shows dungeon cell as a background image.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">label</span> <span class="n">talk_MyPrisoner</span><span class="p">:</span>
  <span class="n">show</span> <span class="n">myprisoner</span> <span class="n">calm</span>
  <span class="o">...</span> <span class="n">dialogue</span> <span class="o">/</span> <span class="n">grettings</span> <span class="o">...</span>

  <span class="n">menu</span> <span class="o">.</span><span class="n">menu1</span><span class="p">:</span>
    <span class="s2">&quot;Option1&quot;</span><span class="p">:</span>
      <span class="o">...</span> <span class="n">dialogue</span> <span class="o">...</span>
      <span class="c1"># Return to dialogue choosing menu</span>
      <span class="n">jump</span> <span class="o">.</span><span class="n">menu1</span>

    <span class="s2">&quot;Option2&quot;</span><span class="p">:</span>
      <span class="o">...</span> <span class="n">dialogue</span> <span class="o">...</span>
      <span class="n">jump</span> <span class="o">.</span><span class="n">menu1</span>

    <span class="s2">&quot;Leave&quot;</span><span class="p">:</span>
      <span class="c1"># Leave the talk, return to the dungeon freeroam</span>
      <span class="n">jump</span> <span class="n">room_hotel_dungeon</span>
</pre></div>
</td></tr></table></div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>That would be all for creating a prisoner.</p>
<div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="add-new-succubus">
<h2>Add new succubus<a class="headerlink" href="#add-new-succubus" title="Permalink to this headline">¶</a></h2>
<p>To add a succubus you need to add her as a prisoner, exactly like above, then simply append her to <code class="docutils literal notranslate"><span class="pre">list_of_succubus</span></code> list.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">init</span> <span class="mi">11</span> <span class="n">python</span><span class="p">:</span>
  <span class="c1"># Append the same thing you did to available_prisoners</span>
  <span class="n">list_of_succubus</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;MySuccubusImage&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="traders.html" class="btn btn-neutral float-right" title="Traders &amp; Items" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="triggers.html" class="btn btn-neutral float-left" title="Triggers" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Victorius.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>